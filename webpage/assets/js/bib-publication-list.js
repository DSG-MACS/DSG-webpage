var bibtexify=function(a){var c=function(a){return a?(a=a.replace(/\\"\{a\}/g,'&auml;').replace(/\{\\aa\}/g,'&aring;').replace(/\\aa\{\}/g,'&aring;').replace(/\\"a/g,'&auml;').replace(/\\"\{o\}/g,'&ouml;').replace(/\\'e/g,'&eacute;').replace(/\\'\{e\}/g,'&eacute;').replace(/\\'a/g,'&aacute;').replace(/\\'A/g,'&Aacute;').replace(/\\"o/g,'&ouml;').replace(/\\"u/g,'&uuml;').replace(/\\ss\{\}/g,'&szlig;').replace(/\{/g,'').replace(/\}/g,'').replace(/\\&/g,'&').replace(/--/g,'&ndash;'),a):''},b={lang:{fr:{and:'et',archived:'Version archivée sur',article:'Journal',bibtex:'Entrée au format BibTex',book:'Book',close:'Fermer',conference:'<em>Workshop</em>',desc:'Description',dir:'Sous la dir. de',doi:'Identificateur d’objet numérique',first:'Première',future:'À paraître',inbook:'Book chapter',incollection:'',infoEmpty:'Affichage de 0 à 0 sur 0 entrées',infoFiltered:'(filtrées depuis un total de _MAX_ entrées)',info:'Affichage de _START_ à _END_ sur _TOTAL_ entrées',inproceedings:'Conférence',in:'In',last:'Dernière',lengthMenu:'Afficher _MENU_ entrées',link:'Lien',manual:'Manual',mastersthesis:'Mémoire',misc:'Divers',missing:'Manquant',next:'Suivante',online:'Cet article en ligne',pdfversion:'Version PDF',phdthesis:'Thèse',previous:'Précédente',proceedings:'Édition',search:'Rechercher :',sourcetex:'Source code LaTeX',techreport:'Rapport de recherche',type:'Type',unpublished:'Soumis',year:'Année',zeroRecords:'Aucune entrée correspondante trouvée'},en:{and:'and',archived:'Version archived on',article:'Journal',bibtex:'This article as BibTeX',book:'Book',close:'Close',conference:'Workshop',desc:'Description',dir:'Edited by',doi:'Digital Object Identifier',editor:'editor',first:'First',future:'To Appear',inbook:'Book chapter',incollection:'In Collection',infoEmpty:'No records available',infoFiltered:'(filtered from _MAX_ total records)',info:'Showing page _PAGE_ of _PAGES_',inproceedings:'Conference',in:'In',last:'Last',lengthMenu:'Show _MENU_ entries',link:'link',manual:'Manual',mastersthesis:'Thesis',misc:'Misc',missing:'Missing',next:'Next',online:'This article online',pdfversion:'PDF version',phdthesis:'PhD Thesis',previous:'Previous',proceedings:'Conference proceeding',search:'Search:',sourcetex:'Latex source code',techreport:'Technical report',type:'Type',unpublished:'Unpublished',year:'Year',zeroRecords:'Nothing found - sorry'}},entry2html:function(a,f){var d,e;return f.options.lang=='fr'?lang=b.lang.fr:f.options.lang=='en'?lang=b.lang.en:(alert("This language is not supported yet. Defaulting to English."),lang=b.lang.en),d=a.entryType.toLowerCase(),array_keys(b).indexOf(d)===-1&&(d='misc',a.entryType=d),e=c(b[d](a)),e+=b.links(a),e+=b.bibtex(a),e.replace(/undefined[,.]?/g,'<span class="undefined">'+lang.missing+'</span>')},authors2html:function(b){var d='',a,e;if(!b)return d;if(b.length>6)a=b[0],d+=a.first+(a.von?' '+a.von+' ':' ')+a.last+" et al";else for(e=0;e<b.length;e++)e>0&&(e==b.length-1?d+=" "+lang.and+" ":d+=", "),a=b[e],d+=a.first+(a.von?' '+a.von+' ':' ')+a.last;return c(d)},links:function(a){var b='<br/>',c,d;return a.url&&a.url.match(/.*\.pdf/)?b+=' (<a title="'+lang.pdfversion+'." href="'+a.url+'" style="white-space: nowrap"><i class="fa fa-file-pdf fa-fw" style="color:red" aria-hidden="true"></i>pdf</a>)':a.url&&(b+=' (<a title="'+lang.online+'"  href="'+a.url+'" style="white-space: nowrap"><i class="fa fa-external-link fa-fw" style="color:blue" aria-hidden="true"></i>'+lang.link+'</a>)'),a.doi&&(b+=' (<a title="'+lang.doi+'." href="http://dx.doi.org/'+a.doi+'" style="white-space: nowrap"><i class="ai ai-doi" style="color:#fab222" aria-hidden="true"></i>doi</a>)'),a.archiveprefix&&a.eprint&&(c='',d='',a.archiveprefix=="arXiv"?(c='http://arxiv.org/abs/',d='ai ai-arxiv" style="background-color:#02f702"'):a.archiveprefix=="tel"?(c='https://tel.archives-ouvertes.fr/',d='ai ai-hal" style="color:#cd3c1b"'):a.archiveprefix=="hal"?(c='https://hal.science/',d='ai ai-hal" style="color:#cd3c1b"'):a.archiveprefix=="handle"&&(c='https://hdl.handle.net/'),b+=' (<a title="'+lang.archived+' '+a.archiveprefix+'." href="'+c+a.eprint+'" style="white-space: nowrap">'+(d?'<i class="'+d+'" aria-hidden="true"></i>':'')+a.archiveprefix+'</a>)'),a.file&&(b+=' (<a title='+lang.sourcetex+' href="'+a.file+'" style="white-space: nowrap"><i class="fa fa-code" aria-hidden="true" style="color: black"></i>source</a>)'),b},bibtex:function(c){var b='';return b+=' (<a title="'+lang.bibtex+'" href="#" class="biblink" style="white-space: nowrap"><i class="fa fa-file-text fa-fw" style="color:green" aria-hidden="true"></i>'+'bib</a>)<div class="bibinfo hidden">',b+='<a href="#" class="bibclose" title="'+lang.close+'">⨯</a><pre>',b+='@'+c.entryType+"{"+c.cite+",\n",a.each(c,function(d,c){var a;if(d=='author'){b+='  author = {';for(a=0;a<c.length;a++)a>0&&(b+=" and "),b+=(c[a].von?' '+c[a].von+' ':'')+c[a].last+(c[a].first?", "+c[a].first:'');b+='},\n'}else if(d=='editor'){b+='  editor = {';for(a=0;a<c.length;a++)a>0&&(b+=" and "),b+=(c[a].von?' '+c[a].von+' ':'')+c[a].last+(c[a].first?", "+c[a].first:'');b+='},\n'}else d!='entryType'&&d!='cite'&&(b+='  '+d+" = {"+c+"},\n")}),b+="}</pre></div>",b},inproceedings:function(a){return this.authors2html(a.author)+".<br>"+'<strong id="'+a.cite+'">'+a.title+"</strong>.<br/>"+lang.in+": <em>"+a.booktitle+"</em>. "+(a.editor?lang.dir+" "+this.authors2html(a.editor)+". ":"")+(a.publisher?c(a.publisher):"")+(a.publisher?a.pages?", ":".":"")+(a.pages?"pp.&nbsp;"+a.pages:"")+(a.address?", "+a.address+".":"")+"</em>"},incollection:function(a){return this.authors2html(a.author)+".<br>"+'<strong id="'+a.cite+'">'+a.title+"</strong>.<br/>"+ +lang.in+": "+(a.editor?""+this.authors2html(a.editor)+", "+lang.editor+", ":"")+"<em>"+a.booktitle+(a.pages?", pp.&nbsp;"+a.pages:"")+(a.address?", "+a.address:"")+".</em>"},article:function(a){return this.authors2html(a.author)+".<br>"+'<strong id="'+a.cite+'">'+a.title+"</strong>.<br/>"+lang.in+": <em>"+a.journal+(a.volume?", "+a.volume:"")+(a.number?"("+a.number+")":"")+(a.pages?", pp.&nbsp;"+a.pages+".":"")+(a.address?a.address+".":"")+"</em>"},misc:function(a){return this.authors2html(a.author)+".<br>"+'<strong id="'+a.cite+'">'+a.title+"</strong>.<br/>"+(a.howpublished?a.howpublished+". ":"")+(a.note?a.note+".":"")},mastersthesis:function(a){return this.authors2html(a.author)+".<br>"+'<strong id="'+a.cite+'">'+a.title+"</strong>.<br/>"+a.type+". "+(a.organization?a.organization+", ":"")+a.school+"."},techreport:function(a){return this.authors2html(a.author)+".<br>"+'<strong id="'+a.cite+'">'+a.title+"</strong>.<br/>"+a.institution+". "+(a.number?a.number+". ":"")+(a.type?a.type+".":"")},book:function(a){return this.authors2html(a.author||a.editor)+".<br>"+'<strong id="'+a.cite+'">'+a.title+"</strong>.<br/>"+a.publisher+(a.issn?", ISBN: "+a.issn+".":".")},inbook:function(a){return this.authors2html(a.author)+".<br>"+'<strong id="'+a.cite+'">'+a.chapter+"</strong>.<br/>"+lang.in+" <em>"+a.title+"</em>, "+(a.editor?" "+lang.dir+" "+this.authors2html(a.editor)+", ":"")+a.publisher+(a.pages?", pp.&nbsp;"+a.pages:"")+(a.series?", <em>"+a.series+"</em>":"")+(a.volume?", Vol.&nbsp;"+a.volume:"")+(a.issn?", ISBN: "+a.issn:"")+"."},proceedings:function(a){return(a.editor?(lang.dir?lang.dir+" ":"")+this.authors2html(a.editor):"")+"<br>"+'<strong id="'+a.cite+'">'+a.title+"</strong>.<br/>"+(a.volume?"T. "+a.volume+".":"")+(a.series?" "+a.series:"")+(a.address?", "+a.address:"")+". "+(a.organization?+a.organization:"")+(a.organization&&a.publisher?", ":"")+(a.publisher?a.publisher+". ":"")+(a.note?a.note:"")},importance:{TITLE:9999,unpublished:0,misc:0,manual:10,techreport:20,mastersthesis:30,phdthesis:40,conference:50,incollection:60,inproceedings:70,proceedings:80,article:90,inbook:100,book:110}},d,e,f;return b.phdthesis=b.mastersthesis,b.conference=b.inproceedings,d={showbib:function(b){a(this).next(".bibinfo").removeClass('hidden').addClass("open"),a("#shutter").show(),b.preventDefault()},hidebib:function(b){a("#shutter").hide(),a(".bibinfo.open").removeClass("open").addClass("hidden"),b.preventDefault()}},e=function(a,b,c,d){this.options=d,this.bibElemId=b,this.$pubTable=c,this.stats={},this.initialize(a)},f=e.prototype,f.initialize=function(k){var f=new BibTex,h,j,e,g,c,l,i;f.content=k,f.parse(),h=[],j=f.data.length,e={},jQuery.extend(!0,b,this.options.bib2html);for(g=0;g<j;g++){c=f.data[g],c.year||(this.options.defaultYear?c.year=this.options.defaultYear:this.options.lang=='fr'?c.year=b.lang.fr.future:this.options.lang=='en'?c.year=b.lang.en.future:(alert("This language is not supported yet. Defaulting to English."),c.year=b.lang.en.future));try{l=b.entry2html(c,this),h.push([c.year,lang[c.entryType],l]),e[lang[c.entryType]]=c.entryType,this.updateStats(c)}catch(a){console.error('Failed to process entry: ',c)}}jQuery.fn.dataTableExt.oSort['type-sort-asc']=function(d,f){var a=b.importance[e[d]],c=b.importance[e[f]];return a<c?-1:a>c?1:0},jQuery.fn.dataTableExt.oSort['type-sort-desc']=function(d,f){var a=b.importance[e[d]],c=b.importance[e[f]];return a<c?1:a>c?-1:0},i=this.$pubTable.dataTable(a.extend({aaData:h,aaSorting:this.options.sorting,aoColumns:[{sTitle:lang.year},{sTitle:"Type",sType:"type-sort",asSorting:["desc","asc"]},{sTitle:lang.desc,bSortable:!1}],language:{search:lang.search,zeroRecords:lang.zeroRecords,info:lang.info,infoEmpty:lang.infoEmpty,infoFiltered:lang.infoFiltered,paginate:{first:lang.first,last:lang.last,next:lang.next,previous:lang.previous},lengthMenu:lang.lengthMenu}},this.options.datatable)),this.options.visualization&&this.addBarChart(),a("th",this.$pubTable).unbind("click").click(function(e){var c=a(this),b=c.parent().find("th"),d=b.index(c);if(c.hasClass("sorting_disabled"))return;c.toggleClass("sorting_asc").toggleClass("sorting_desc"),d===0?i.fnSort([[0,b.eq(0).hasClass("sorting_asc")?"asc":"desc"],[1,b.eq(1).hasClass("sorting_asc")?"asc":"desc"]]):i.fnSort([[1,b.eq(1).hasClass("sorting_asc")?"asc":"desc"],[0,b.eq(0).hasClass("sorting_asc")?"asc":"desc"]])}),a(".biblink",this.$pubTable).on('click',d.showbib),a(".bibclose",this.$pubTable).on('click',d.hidebib)},f.updateStats=function(a){this.stats[a.year]?(this.stats[a.year].count+=1,this.stats[a.year].types[a.entryType]?this.stats[a.year].types[a.entryType]+=1:this.stats[a.year].types[a.entryType]=1):(this.stats[a.year]={count:1,types:{}},this.stats[a.year].types[a.entryType]=1)},f.addBarChart=function(){var e=[],f=0,j=0,n,h,i,c,m,l,k,d,o,g;a.each(this.stats,function(g,c){var d=[];a.each(c.types,function(a){d.push(a)}),d.sort(function(a,c){return b.importance[c]-b.importance[a]}),e.push({year:g,count:c.count,item:c,types:c.types,typeArr:d}),f=Math.max(f,c.count),j=Math.max(j,d.length)}),n=f>15,e.sort(function(a,b){var c=a.year-b.year;return isNaN(c)?a.year<b.year?-1:a.year>b.year?1:0:c}),h='#'+this.bibElemId+' .bibchart',i='#'+this.bibElemId+' .legend',c=[],m=function(b){for(var f=b.typeArr,g='<div class="year">',d='<br/>',e=0,a,h;e<f.length;e++)if(a=f[e],c.indexOf(a)===-1&&c.push(a),n)d+='<div class="pub '+a+'"></div>';else for(h=0;h<b.types[a];h++)d+='<div class="pub '+a+'"></div>';return g+=d,g+'<div class="yearlabel">'+b.year+'</div></div>'},l='',e.forEach(function(a){l+=m(a)}),k='';for(d=0,o=c.length;d<o;d++)g=c[d],k+='<div><span class="pub '+g+'"></span>'+lang[g]+'</div>';a(h).html(l),a(i).length===0&&a(h).after('<div class="legend"></div>'),a(i).html(k)},function(h,b,i){var f=a.extend({},{visualization:!0,sorting:[[0,"desc"],[1,"desc"]],lang:'en'},i),g=a("#"+b+" table").addClass("bibtable").addClass("display"),c,j;a("#shutter").length===0&&(g.before('<div id="shutter" class="hidden"></div>'),a("#shutter").click(d.hidebib)),f.visualization&&a("#"+b+" .bibchart").length===0?g.before('<div class="bibchart-container"><div class="bibchart"></div></div><div class="legend"></div>'):!f.visualization&&a("#"+b+" .bibchart").length>0&&a("#"+b+" .bibchart")[0].remove(),h.indexOf('/')===-1&&(c=a(h)),c&&c.length?(new e(c.html(),b,g,f),c.hide()):(j=function(a){new e(a,g,f)},a.get(h,j,"text"))}}(jQuery)